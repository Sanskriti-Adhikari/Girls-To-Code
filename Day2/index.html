<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
</head>
<body>
    <!-- <form method="post" action="http://localhost:3000/login"> </form> -->
        <form method="post" id="form">
        <input name="username" placeholder="username" id="name">
        <input name="password" placeholder="password" id="password">
        <button type="submit" id="button">Submit</button>
    </form>
    <div id="logininformation"><p>Login Information</p></div>
    <script>
        const form=document.getElementById("form");
        form.addEventListener("submit",async(e)=>{
            e.preventDefault(); //To overwrite default behaviour
            const name=document.getElementById("name").value;
            const password=document.getElementById("password").value;
            console.log(name,password);
            const result=await fetch("http://localhost:3000/login",{
            method: "POST",
            headers:{
                "Content-Type":"application/json",
            },
            body: JSON.stringify({
                name,
                password
            }),
            });
            await loadData();
        });
    const logininformation=document.getElementById("logininformation");
        const loadData=async()=>{
            const response=await fetch("http://localhost:3000/admin")
            const data=await response.json()
            console.log(data)
            logininformation.innerHTML=JSON.stringify(data)
        };
        loadData() //shows previous entries
    </script>
</body>
</html>